{"ast":null,"code":"var _jsxFileName = \"/Users/yatishgoel/Desktop/candidate_test/timestamped-values-frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Bar } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from 'chart.js';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\nfunction App() {\n  _s();\n  const [data, setData] = useState(null);\n  const [nextPage, setNextPage] = useState(null);\n  useEffect(() => {\n    fetchData('http://localhost:8000/candidate_test/fronted/');\n  }, []);\n  const fetchData = url => {\n    axios.get(url).then(response => {\n      setData(prevData => {\n        if (prevData) {\n          return {\n            ...response.data,\n            results: [...prevData.results, ...response.data.results]\n          };\n        }\n        return response.data;\n      });\n      setNextPage(response.data.next);\n    }).catch(error => console.error('Error fetching data:', error));\n  };\n  const loadMore = () => {\n    if (nextPage) {\n      fetchData(nextPage);\n    }\n  };\n  const processData = results => {\n    const processedData = {};\n    results.forEach(item => {\n      const year = Object.keys(item)[0];\n      const monthData = item[year];\n      const month = Object.keys(monthData)[0];\n      const value = Object.values(monthData[month][0])[0];\n      const key = `${year}-${month}`;\n      processedData[key] = (processedData[key] || 0) + value;\n    });\n    return processedData;\n  };\n  const chartData = data ? processData(data.results) : {};\n  const chartConfig = {\n    labels: Object.keys(chartData),\n    datasets: [{\n      label: 'Total Value',\n      data: Object.values(chartData),\n      backgroundColor: 'rgba(75, 192, 192, 0.6)'\n    }]\n  };\n  const options = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top'\n      },\n      title: {\n        display: true,\n        text: 'Timestamped Values by Month'\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Timestamped Values\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), data ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Bar, {\n        data: chartConfig,\n        options: options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this), nextPage && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: loadMore,\n        children: \"Load More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 24\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"CFu5ooblo7Ec5Uv9ifdBX+0mJQM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","Bar","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","jsxDEV","_jsxDEV","Fragment","_Fragment","register","App","_s","data","setData","nextPage","setNextPage","fetchData","url","get","then","response","prevData","results","next","catch","error","console","loadMore","processData","processedData","forEach","item","year","Object","keys","monthData","month","value","values","key","chartData","chartConfig","labels","datasets","label","backgroundColor","options","responsive","plugins","legend","position","title","display","text","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/yatishgoel/Desktop/candidate_test/timestamped-values-frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Bar } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nfunction App() {\n  const [data, setData] = useState(null);\n  const [nextPage, setNextPage] = useState(null);\n\n  useEffect(() => {\n    fetchData('http://localhost:8000/candidate_test/fronted/');\n  }, []);\n\n  const fetchData = (url) => {\n    axios.get(url)\n      .then(response => {\n        setData(prevData => {\n          if (prevData) {\n            return {\n              ...response.data,\n              results: [...prevData.results, ...response.data.results]\n            };\n          }\n          return response.data;\n        });\n        setNextPage(response.data.next);\n      })\n      .catch(error => console.error('Error fetching data:', error));\n  };\n\n  const loadMore = () => {\n    if (nextPage) {\n      fetchData(nextPage);\n    }\n  };\n\n  const processData = (results) => {\n    const processedData = {};\n    results.forEach(item => {\n      const year = Object.keys(item)[0];\n      const monthData = item[year];\n      const month = Object.keys(monthData)[0];\n      const value = Object.values(monthData[month][0])[0];\n      \n      const key = `${year}-${month}`;\n      processedData[key] = (processedData[key] || 0) + value;\n    });\n    return processedData;\n  };\n\n  const chartData = data ? processData(data.results) : {};\n\n  const chartConfig = {\n    labels: Object.keys(chartData),\n    datasets: [\n      {\n        label: 'Total Value',\n        data: Object.values(chartData),\n        backgroundColor: 'rgba(75, 192, 192, 0.6)',\n      },\n    ],\n  };\n\n  const options = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top',\n      },\n      title: {\n        display: true,\n        text: 'Timestamped Values by Month',\n      },\n    },\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Timestamped Values</h1>\n      {data ? (\n        <>\n          <Bar data={chartConfig} options={options} />\n          {nextPage && <button onClick={loadMore}>Load More</button>}\n        </>\n      ) : (\n        <p>Loading data...</p>\n      )}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}