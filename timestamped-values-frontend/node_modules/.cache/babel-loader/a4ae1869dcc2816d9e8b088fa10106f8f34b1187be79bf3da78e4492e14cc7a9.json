{"ast":null,"code":"var _jsxFileName = \"/Users/yatishgoel/Desktop/candidate_test/timestamped-values-frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Bar } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from 'chart.js';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\nfunction App() {\n  _s();\n  const [data, setData] = useState(null);\n  const [nextPage, setNextPage] = useState(null);\n  useEffect(() => {\n    fetchData('http://localhost:8000/candidate_test/fronted/');\n  }, []);\n  const fetchData = url => {\n    axios.get(url).then(response => {\n      setData(prevData => {\n        if (prevData) {\n          return {\n            ...response.data,\n            results: [...prevData.results, ...response.data.results]\n          };\n        }\n        return response.data;\n      });\n      setNextPage(response.data.next);\n    }).catch(error => console.error('Error fetching data:', error));\n  };\n  const loadMore = () => {\n    if (nextPage) {\n      fetchData(nextPage);\n    }\n  };\n  const processData = results => {\n    const processedData = {\n      labels: [],\n      // Store all timestamps\n      values: [] // Store corresponding values\n    };\n    results.forEach(item => {\n      const year = Object.keys(item)[0]; // Get the year (e.g., 2023, 2024)\n      const months = item[year]; // Get the months\n\n      months.forEach(monthObj => {\n        const month = Object.keys(monthObj)[0]; // Get the month (e.g., 05, 06)\n        const entries = monthObj[month]; // Get the data entries for the month\n\n        entries.forEach(entry => {\n          const timestamp = Object.keys(entry)[0]; // Get the timestamp\n          const value = entry[timestamp]; // Get the value\n\n          // Push the timestamp and value to the respective arrays\n          processedData.labels.push(timestamp);\n          processedData.values.push(value);\n        });\n      });\n    });\n    return processedData;\n  };\n  const chartData = data ? processData(data.results) : {};\n  const chartConfig = {\n    labels: chartData.labels,\n    // Use all timestamps as labels\n    datasets: [{\n      label: 'Value by Timestamp',\n      data: chartData.values,\n      // Corresponding values for each timestamp\n      backgroundColor: 'rgba(75, 192, 192, 0.6)'\n    }]\n  };\n  const options = {\n    responsive: true,\n    scales: {\n      x: {\n        ticks: {\n          autoSkip: false,\n          // Ensure all timestamps are displayed on the x-axis\n          maxRotation: 90,\n          // Rotate labels to prevent overlap\n          minRotation: 45\n        },\n        title: {\n          display: true,\n          text: 'Timestamp'\n        }\n      },\n      y: {\n        title: {\n          display: true,\n          text: 'Value'\n        }\n      }\n    },\n    plugins: {\n      tooltip: {\n        callbacks: {\n          title: tooltipItems => {\n            return tooltipItems[0].label; // Show the full timestamp on hover\n          }\n        }\n      },\n      legend: {\n        position: 'top'\n      },\n      title: {\n        display: true,\n        text: 'Values by Timestamp'\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Timestamped Values\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), data ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Bar, {\n        data: chartConfig,\n        options: options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this), nextPage && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: loadMore,\n        children: \"Load More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 24\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"CFu5ooblo7Ec5Uv9ifdBX+0mJQM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","Bar","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","jsxDEV","_jsxDEV","Fragment","_Fragment","register","App","_s","data","setData","nextPage","setNextPage","fetchData","url","get","then","response","prevData","results","next","catch","error","console","loadMore","processData","processedData","labels","values","forEach","item","year","Object","keys","months","monthObj","month","entries","entry","timestamp","value","push","chartData","chartConfig","datasets","label","backgroundColor","options","responsive","scales","x","ticks","autoSkip","maxRotation","minRotation","title","display","text","y","plugins","tooltip","callbacks","tooltipItems","legend","position","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/yatishgoel/Desktop/candidate_test/timestamped-values-frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Bar } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nfunction App() {\n  const [data, setData] = useState(null);\n  const [nextPage, setNextPage] = useState(null);\n\n  useEffect(() => {\n    fetchData('http://localhost:8000/candidate_test/fronted/');\n  }, []);\n\n  const fetchData = (url) => {\n    axios.get(url)\n      .then(response => {\n        setData(prevData => {\n          if (prevData) {\n            return {\n              ...response.data,\n              results: [...prevData.results, ...response.data.results]\n            };\n          }\n          return response.data;\n        });\n        setNextPage(response.data.next);\n      })\n      .catch(error => console.error('Error fetching data:', error));\n  };\n\n  const loadMore = () => {\n    if (nextPage) {\n      fetchData(nextPage);\n    }\n  };\n\n  const processData = (results) => {\n    const processedData = {\n      labels: [], // Store all timestamps\n      values: [], // Store corresponding values\n    };\n\n    results.forEach(item => {\n      const year = Object.keys(item)[0]; // Get the year (e.g., 2023, 2024)\n      const months = item[year]; // Get the months\n\n      months.forEach(monthObj => {\n        const month = Object.keys(monthObj)[0]; // Get the month (e.g., 05, 06)\n        const entries = monthObj[month]; // Get the data entries for the month\n\n        entries.forEach(entry => {\n          const timestamp = Object.keys(entry)[0]; // Get the timestamp\n          const value = entry[timestamp]; // Get the value\n\n          // Push the timestamp and value to the respective arrays\n          processedData.labels.push(timestamp);\n          processedData.values.push(value);\n        });\n      });\n    });\n\n    return processedData;\n  };\n\n  const chartData = data ? processData(data.results) : {};\n\n  const chartConfig = {\n    labels: chartData.labels, // Use all timestamps as labels\n    datasets: [\n      {\n        label: 'Value by Timestamp',\n        data: chartData.values, // Corresponding values for each timestamp\n        backgroundColor: 'rgba(75, 192, 192, 0.6)',\n      },\n    ],\n  };\n\n  const options = {\n    responsive: true,\n    scales: {\n      x: {\n        ticks: {\n          autoSkip: false, // Ensure all timestamps are displayed on the x-axis\n          maxRotation: 90, // Rotate labels to prevent overlap\n          minRotation: 45,\n        },\n        title: {\n          display: true,\n          text: 'Timestamp',\n        },\n      },\n      y: {\n        title: {\n          display: true,\n          text: 'Value',\n        },\n      },\n    },\n    plugins: {\n      tooltip: {\n        callbacks: {\n          title: (tooltipItems) => {\n            return tooltipItems[0].label; // Show the full timestamp on hover\n          },\n        },\n      },\n      legend: {\n        position: 'top',\n      },\n      title: {\n        display: true,\n        text: 'Values by Timestamp',\n      },\n    },\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Timestamped Values</h1>\n      {data ? (\n        <>\n          <Bar data={chartConfig} options={options} />\n          {nextPage && <button onClick={loadMore}>Load More</button>}\n        </>\n      ) : (\n        <p>Loading data...</p>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}